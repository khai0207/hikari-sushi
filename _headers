# Cloudflare Pages Custom Headers - Performance Optimized

# All pages - Security headers + Performance hints
/*
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
  X-DNS-Prefetch-Control: on
  Accept-CH: DPR, Width, Viewport-Width

# Root index - always revalidate
/
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache

# HTML pages - no cache (always fresh)
/*.html
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache
  Link: </css/style.css>; rel=preload; as=style, </js/image-optimizer.js>; rel=preload; as=script

# Admin pages - never cache
/admin/*
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache

# JS files - short cache with revalidation
/js/*
  Cache-Control: public, max-age=3600, stale-while-revalidate=86400

# CSS files - short cache with revalidation
/css/*
  Cache-Control: public, max-age=3600, stale-while-revalidate=86400

# Images - long cache for performance (1 year)
/images/*
  Cache-Control: public, max-age=31536000, immutable

# Fonts - long cache
/*.woff2
  Cache-Control: public, max-age=31536000, immutable
  Access-Control-Allow-Origin: *

# R2 Assets (uploaded images) - aggressive cache with stale fallback
/assets/*
  Cache-Control: public, max-age=2592000, stale-while-revalidate=604800, stale-if-error=86400
  Vary: Accept
